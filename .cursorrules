# Cursor Rules for Eduardo Neto Portfolio

## Git Workflow Rules

Before suggesting any Git commands, review:
- `docs/branching-strategy.md` — Strategy and rationale
- `docs/git-workflow.md` — Step-by-step commands
- `docs/release-process.md` — Versioning and tagging

### Mandatory Rules

1. Feature branches MUST be created from `dev`, never `main`
2. All PRs go to `dev` first, then `dev` → `main` for releases
3. Use "Rebase and Merge" exclusively — no merge commits
4. Rebasing `dev` onto `main` is maintainer-only (required for releases per docs/branching-strategy.md)
5. Always use `--force-with-lease` instead of `--force`
6. Branch names must follow: `feature/*`, `fix/*`, `chore/*`, or `refactor/*`
7. Use conventional commit messages: `feat:`, `fix:`, `chore:`, `refactor:`, `docs:`, `test:`

### When User Asks About Git

- Reference the appropriate doc section
- Provide exact commands from `docs/git-workflow.md`
- Warn if the request violates the workflow

### Standard Git Command Patterns

```sh
# Creating a new feature branch (ALWAYS from dev)
git checkout dev
git pull
git checkout -b feature/my-feature

# Rebasing before PR
git checkout dev
git pull
git checkout feature/my-feature
git rebase dev
git push --force-with-lease  # Only if already pushed

# Opening a PR
git push --set-upstream origin feature/my-feature
# Then open PR into `dev` (never directly to `main`)
```

## Release Checklist Rules

After a PR to `dev` is merged, provide a release assessment when appropriate.

### When to Provide Release Assessment

- After PR to `dev` merges with `feat:` commits
- When user explicitly asks about releases
- Do NOT auto-suggest for every small fix (only when `feat:` commits are present)

### Release Readiness Checklist

- [ ] `dev` has commits not yet on `main`
- [ ] CI is green on `dev`
- [ ] Review commit types since last release tag

### Version Recommendation Rules

Determine version bump based on highest-priority commit since last tag:
- Any `BREAKING CHANGE:` in body or `!` suffix → **MAJOR** (X.0.0)
- Any `feat:` commits → **MINOR** (x.Y.0)
- Only `fix:`, `chore:`, `refactor:`, `docs:`, `test:` → **PATCH** (x.y.Z)

### Release Assessment Format

When providing a release assessment, use this format:

```
## Release Assessment

**Commits since last release:** [count]
**Highest change type:** [feat/fix/chore/etc.]
**Recommended bump:** [MAJOR/MINOR/PATCH]
**Suggested version:** vX.Y.Z (based on current: vA.B.C)

**Ready to release?** Follow [Release Process](docs/release-process.md):
1. Open PR: `dev` → `main`
2. Merge with "Rebase and Merge"
3. Tag: `git tag -a vX.Y.Z -m "Release vX.Y.Z" && git push origin vX.Y.Z`
```

## Code Quality Rules

- Before committing, always run ESLint to check for issues
- Before committing, always run tests and plan fixes if any fail
- Follow existing code patterns and conventions in the codebase
- Prefer editing existing files over creating new ones
- Keep changes focused and minimal

## Project Context

This is a portfolio website built with:
- Next.js 16 (App Router)
- TypeScript (strict mode)
- React 19
- Tailwind CSS 4
- Redux Toolkit / RTK Query
- Vitest for testing

The "Portfolio as Demo" philosophy means the codebase itself demonstrates senior engineering skills.

